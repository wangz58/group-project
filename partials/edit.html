<!--Profile Edit-->

<body ng-App="Profile" ng-controller="EditCtrl">
    <div class="container">
        <h1> Edit My Profile </h1>
        <div class="alert alert-success" role="alert" ng-show="correctM">
            Thank you. You have successfully edited your profile.
            <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        </div>
        <form name="profileform" id="profileForm" nonvalidate>
            Profile Picture:
            <input type="file" ngf-select ng-model="userImg" name="file" accept="image/*" required>
            <i ng-show="profileform.file.$error.required&&profileform.file.$touched">*required</i>
            </br>
            <img ngf-src="userImg" ng-show='file' class="thumb" height='150px'>
            <br/>
            <button ng-click="uploadPic(picFile)">Submit</button>
            <span class="progress" ng-show="picFile.progress >= 0">
                  <div style="width:{{picFile.progress}}%" ng-bind="picFile.progress + '%'"></div>
              </span>
            <span ng-show="picFile.result">Upload Successful</span>
            <div class="form-group">
                <!-- user can put in the  name and it is required -->
                <label for="name">Name</label>
                <input type="text" name="name" class="form-control" id="name" ng-model="myprofile.customername" placeholder="your name" required>
                <!-- shows the error message if the field is left blank after touching it -->
                <p ng-model="noName" class="help-block" ng-show="(profileform.name.$error.required && profileform.name.$touched) || (profileform.name.$error.required && !profileform.name.$pristine)" class="help-block">We need to know your name.</p>
                </br>
                <label for="gender">Gender</label>
                <input type="radio" name="gender" value="Male"> Male
                <input type="radio" name="gender" value="Female"> Female
                <input type="radio" name="gender" value="Other"> Other </br>
                </br>
                <label for="career">Career</label>
                <input type="text" name="career" class="form-control" id="career" ng-model="myprofile.career" placeholder="your career">
                </br>
                <!-- user's phone number and address-->
                <label for="phonenum">Phone Number</label>
                <input class="form-control" id="phoneNum" name="phonenum" type="number" placeholder="phone number" maxlength=10 minlength=10 ng-model="myprofile.phonenumber">
                <br>
                <p class="help-block" ng-show="signupform.phonenum.$error.minlength || signupform.phonenum.$error.maxlength">Please give a correct phone number.</p>
                <label for="street">Street Address</label>
                <input class="form-control" id="streetAdd" name="streetadd" type="text" ng-model="myprofile.streetaddress" placeholder="street address" required>
                <p class="help-block" ng-show="(signupform.streetadd.$error.required && signupform.streetadd.$touched) || (signupform.streetadd.$error.required && !signupform.streetadd.$pristine)">Please provide a street address so that other pet owners/helpers could find you.</p>
                <br>
            </div>
            <div class="row">
                <div class="col-xs-12 col-sm-4">
                    <label for="city">City</label>
                    <input class="form-control" id="city" name="city" type="text" placeholder="city" ng-model="myprofile.city" required>
                    <br>
                    <p class="help-block" ng-show="(signupform.city.$error.required && signupform.city.$touched) || (signupform.city.$error.required && !signupform.city.$pristine)">Please tell us the city you live in.</p>
                </div>
                <div class="col-xs-12 col-sm-4">
                    <label for="state"> State</label>
                    <input class="form-control" id="state" name="state" type="text" ng-model="myprofile.state" placeholder="state" minlength=2 maxlength=2 required>
                    <br>
                    <p class="help-block" ng-show="(signupform.state.$error.required && signupform.state.$touched) || (signupform.state.$error.required && !signupform.state.$pristine)">Please tell us the state you live in.</p>
                    <p class="help-block" ng-show="signupform.state.$error.minlength || signupform.state.$error.maxlength">Please enter the state name in two letters</p>
                </div>
                <div class="col-xs-12 col-sm-4">
                    <label for="postcode">Postal Code</label>
                    <input class="form-control" id="postalCode" name="postalcode" type="text" ng-pattern="/^\d{5}(?:[-\s]\d{4})?$/" placeholder="postal code" ng-model="myprofile.postalcode" required>
                    <br>
                    <p class="help-block" ng-show="(signupform.postalcode.$error.required && signupform.postalcode.$touched) || (signupform.postalcode.$error.required && !signupform.postalcode.$pristine)">Please provide a postal code.</p>
                    <p class="help-block" ng-show="signupform.postalcode.$touched && signupform.postalcode.$error.pattern">Please enter a valid postal code.</p>
                </div>
                <button type="submit" class="btn btn-default" id="submitBtn" ng-click="updateMyProfile()"> Save Changes</button>
            </div>
            <h1> My Pet </h1> Profile Picture:
            <input type="file" name="file" ng-change="readURL(this)" accept="image/gif, image/jpeg, image/png" ng-model="petImg" required>
            <p ng-show="profileform.file.$error.required&&profileform.file.$touched">*required</p>
            </br>
            <div class="form-group">
                <!-- user can put in the pet's name and it is required -->
                <label for="firstName">Name</label>
                <input type="text" name="firstName" class="form-control" id="firstName" ng-model="firstname" placeholder="your pet's first name" required>
                <!-- shows the error message if the field is left blank after touching it -->
                <p ng-model="noFirstName" class="help-block" ng-show="(profileform.firstName.$error.required && profileform.firstName.$touched) || (profileform.firstName.$error.required && !profileform.firstName.$pristine)" class="help-block">We need to know your pet's name.</p>
                <label for="searchBreed" id="searchBreed">Species</label>
                <select id="breedChoice" ng-model="breedChoice" required>
                    <option value="Dogs">Dogs</option>
                    <option value="Cats">Cats</option>
                    <option value="Hamsters">Hamsters</option>
                    <option value="Guinea pigs">Guinea pigs</option>
                    <option value="Bunnies">Bunnies</option>
                    <option value="other">Others</option>
                </select>
                </br>
                <!-- user can put in breed of the pet and it is required -->
                <label for="breed">Breed</label>
                <input type="text" name="breed" class="form-control" id="breed" placeholder="your pet's breed" ng-model="breed" required>
                <!-- shows the error message if the field is left blank after touching it -->
                <p ng-model="noBreed" class="help-block" ng-show="(profileform.breed.$error.required && profileform.breed.$touched) || (profileform.breed.$error.required && !profileform.breed.$pristine)" class="help-block">We need to know your pet's breed.</p>
                </br>
                <!-- user can put in the pet's gender and it is required -->
                <label for="lastName">Gender</label>
                <input type="radio" name="gender" value="Male"> Male
                <input type="radio" name="gender" value="Female"> Female
                <input type="radio" name="gender" value="Other"> Other</br>
                <!-- user should put in their birthdate -->
                <label for="birthdate" id="birthLabel">Birthdate</label>
                <input type="date" name="birthdate" class="form-control" id="birthDate" placeholder="xx/xx/xxxx" ng-model="birthdate" required>
                <!-- display required message if user didn't enter a valid birth date -->
                <p class="help-block" id="birthReq" ng-show="(profileform.birthdate.$error.required && profileform.birthdate.$touched) || (profileform.birthdate.$error.required && !profileform.birthdate.$pristine)">Birthdate is required.</p>
                <p class="help-block" id="birthRequired" ng-show="birthInfo.check && birthdate != null">Please enter a valid birthdate</p>
                <!-- user can type in their bio and it is optional  -->
                <label for="description">Description</label>
                <input type="description" name="description" class="form-control" id="description" placeholder="a little thing about your pet">
                </br>
            </div>
            <!-- submit the form and display a success message when clicked -->
            <button type="submit" class="btn btn-default" id="submitBtn" ng-disabled="profileform.$invalid" ng-click="submit()"> Save Changes</button>
        </form>
    </div>
</body>

